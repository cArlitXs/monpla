(this["webpackJsonpmonpla-react"]=this["webpackJsonpmonpla-react"]||[]).push([[0],{152:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(21),s=r.n(a),i=(r(79),r(69)),o=r(35),d=r.n(o),l=r(56),j=r(57),u=r(15),b=r(166),O=r(163),h=r(156),x=r(73),m=r(72),p=Object(m.create)({baseURL:"https://my-json-server.typicode.com/cArlitXs/monpla"}),g={products:{getProducts:function(){return p.get("/products")},getProduct:function(e){return p.get("/products/".concat(e))},getProductsByCategory:function(e){return p.get("/category/".concat(e,"/products"))}},orders:{getOrders:function(){return p.get("/orders")},getOrder:function(e){return p.get("/orders/".concat(e))},postOrder:function(e){return p.post("/orders",e)}},categories:{getCategories:function(){return p.get("/category")},getCategory:function(e){return p.get("/category/".concat(e))}}},f=r(154),v=r(155),y=r(169),C=r(157),w=r(158),N=r(159),k=r(2),I=function(e){var t=e.items,r=e.handleRemoveItemToOrder,n=e.postOrder,c=e.isLoading;return Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{className:"my-2 display-4",children:"Orden"}),Object(k.jsx)("hr",{}),Object(k.jsxs)("div",{style:{position:"sticky",top:0},children:[c&&Object(k.jsx)("div",{style:{zIndex:"99999",position:"absolute",background:"rgba(255,255,255,1)",width:"100%",height:"100%",overflow:"hidden"},children:Object(k.jsx)(f.a,{animation:"border",role:"status",className:"m-4",children:Object(k.jsx)("span",{className:"sr-only",children:"Loading..."})})}),t.length<=0?Object(k.jsx)(v.a,{variant:"info",children:"No tiene productos en la orden."}):Object(k.jsx)(y.a,{variant:"flush",children:t.map((function(e,t){return Object(k.jsx)(y.a.Item,{children:Object(k.jsxs)(h.a,{children:[Object(k.jsx)(x.a,{xs:1,sm:1,md:1,lg:1,xl:1,className:"text-left p-0 m-0",children:Object(k.jsx)(C.a,{variant:"danger",style:{padding:"0",margin:"0",width:"2em",height:"2em"},onClick:function(){return r(t)},children:Object(k.jsx)(w.a,{})})}),Object(k.jsx)(x.a,{children:e.item.title}),Object(k.jsx)(x.a,{xs:2,sm:2,md:2,lg:2,xl:2,className:"text-right p-0 m-0",children:e.item.quantity})]})},t)}))}),Object(k.jsx)(h.a,{children:Object(k.jsx)(x.a,{className:"text-right my-2",children:!c&&Object(k.jsxs)(C.a,{variant:"success",disabled:t.length<=0,onClick:n,children:[Object(k.jsx)(N.a,{})," Completar la orden"]})})})]})]})},L=r(170),S=r(164),A=r(165),B=r(160),T=r(161),H=r(162),P=function(e){var t=e.item,r=e.handleAddItemToOrder,c=e.isLoading,a=Object(n.useState)(!1),s=Object(u.a)(a,2),i=s[0],o=s[1],d=function(){return o(!1)},l=Object(n.useState)(1),j=Object(u.a)(l,2),b=j[0],O=j[1],m=Object(n.useState)(""),p=Object(u.a)(m,2),g=p[0],f=p[1];return Object(k.jsxs)("div",{children:[Object(k.jsx)(L.a,{as:C.a,disabled:c,variant:"light",className:"w-100 m-1",onClick:function(){return o(!0)},children:Object(k.jsx)(L.a.Body,{children:Object(k.jsx)(L.a.Title,{children:t.title})})}),Object(k.jsxs)(S.a,{show:i,onHide:d,children:[Object(k.jsx)(S.a.Header,{closeButton:!0,children:Object(k.jsx)(S.a.Title,{children:t.title})}),Object(k.jsx)(S.a.Body,{children:Object(k.jsxs)(A.a,{onSubmit:function(e){return e.preventDefault()},children:[Object(k.jsxs)(h.a,{xs:3,sm:3,md:3,lg:3,xl:3,children:[Object(k.jsx)(x.a,{children:Object(k.jsx)(C.a,{variant:"secondary",className:"w-100",onClick:function(){return O(b<=1?1:b-1)},children:Object(k.jsx)(B.a,{})})}),Object(k.jsx)(x.a,{children:Object(k.jsx)(A.a.Group,{controlId:"cantidad",children:Object(k.jsx)(A.a.Control,{className:"text-center",type:"number",placeholder:"Cantidad...",min:1,value:b,onChange:function(e){return O(""===e.target.value||parseInt(e.target.value)<=1?1:parseInt(e.target.value))}})})}),Object(k.jsx)(x.a,{children:Object(k.jsx)(C.a,{variant:"primary",className:"w-100",onClick:function(){return O(b+1)},children:Object(k.jsx)(T.a,{})})})]}),Object(k.jsxs)(A.a.Group,{controlId:"descripcion",children:[Object(k.jsx)(A.a.Label,{children:"Descripci\xf3n"}),Object(k.jsx)(A.a.Control,{as:"textarea",rows:3,placeholder:"Escriba aqu\xed si lo necesita...",value:g,onChange:function(e){return f(e.target.value)}})]})]})}),Object(k.jsxs)(S.a.Footer,{children:[Object(k.jsxs)(C.a,{variant:"danger",onClick:d,children:[Object(k.jsx)(w.a,{}),"Cancelar"]}),Object(k.jsxs)(C.a,{variant:"success",onClick:function(){r({id:t.id,title:t.title,quantity:b,description:g}),d()},children:[Object(k.jsx)(H.a,{})," Guardar"]})]})]})]})},q=function(e){var t=e.items,r=e.handleAddItemToOrder,n=e.isLoading;return Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{className:"my-2 display-4",children:"Lista de productos"}),Object(k.jsx)("hr",{}),t.length<=0?Object(k.jsx)(f.a,{animation:"border",role:"status",children:Object(k.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(k.jsx)(h.a,{xs:1,sm:2,md:3,lg:4,xl:4,children:t.map((function(e,t){return Object(k.jsx)(x.a,{children:Object(k.jsx)(P,{item:e,handleAddItemToOrder:r,isLoading:n})},t)}))})]})},E=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),r=t[0],c=t[1],a=Object(n.useState)(!1),s=Object(u.a)(a,2),i=s[0],o=s[1],m=Object(n.useState)(!1),p=Object(u.a)(m,2),f=p[0],v=p[1],y=Object(n.useState)([]),C=Object(u.a)(y,2),w=C[0],N=C[1],L=Object(n.useState)([]),S=Object(u.a)(L,2),A=S[0],B=S[1],T=function(){var e=Object(l.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,g.orders.postOrder({products:A});case 3:t=e.sent,r=t.ok,t.data,r?(B([]),c(!1),o(!0)):(c(!1),v(!0));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(l.a)(d.a.mark((function e(){var t,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.products.getProducts();case 2:t=e.sent,r=t.ok,n=t.data,r||console.error(r.message),N(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(k.jsxs)("div",{children:[Object(k.jsxs)(b.a,{onClose:function(){return o(!1)},show:i,delay:5e3,autohide:!0,className:"border border-success",style:{position:"absolute",bottom:"1em",left:"1em",width:"320px"},children:[Object(k.jsxs)(b.a.Header,{children:[Object(k.jsx)("strong",{className:"mr-auto",children:"\xa1Completado!"}),Object(k.jsx)("small",{children:"Ahora mismo"})]}),Object(k.jsx)(b.a.Body,{children:"Orden realizada con \xe9xito."})]}),Object(k.jsxs)(b.a,{onClose:function(){return v(!1)},show:f,delay:5e3,autohide:!0,className:"border border-danger",style:{position:"absolute",bottom:"1em",left:"1em",width:"320px"},children:[Object(k.jsxs)(b.a.Header,{children:[Object(k.jsx)("strong",{className:"mr-auto",children:"\xa1Algo ha ido mal!"}),Object(k.jsx)("small",{children:"Ahora mismo"})]}),Object(k.jsx)(b.a.Body,{children:"La orden no se ha podido procesar, int\xe9ntelo nuevamente."})]}),Object(k.jsx)(O.a,{fluid:!0,children:Object(k.jsxs)(h.a,{xs:1,sm:1,md:2,lg:2,xl:2,children:[Object(k.jsx)(x.a,{xs:12,sm:4,md:3,lg:3,xl:3,children:Object(k.jsx)(I,{items:A,handleRemoveItemToOrder:function(e){var t=Object(j.a)(A);t.splice(e,1),B(t)},postOrder:T,isLoading:r})}),Object(k.jsx)(x.a,{xs:12,sm:8,md:9,lg:9,xl:9,children:Object(k.jsx)(q,{items:w,handleAddItemToOrder:function(e){return B([].concat(Object(j.a)(A),[{item:e}]))},isLoading:r})})]})})]})},G=r(167),R=r(168),z=function(e){var t=e.title;return Object(k.jsx)("div",{children:Object(k.jsxs)(G.a,{bg:"dark",variant:"dark",children:[Object(k.jsx)(G.a.Brand,{href:"#home",children:t}),Object(k.jsx)(R.a,{className:"mr-auto"})]})})},D=function(){var e="Monpla";return Object(k.jsxs)("div",{children:[Object(k.jsx)(i.a,{children:Object(k.jsx)("title",{children:e})}),Object(k.jsx)(z,{title:e}),Object(k.jsx)(E,{})]})};r(151);s.a.render(Object(k.jsx)(c.a.Fragment,{children:Object(k.jsx)(D,{})}),document.getElementById("root"))},79:function(e,t,r){}},[[152,1,2]]]);
//# sourceMappingURL=main.6f5ae643.chunk.js.map